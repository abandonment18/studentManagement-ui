{"version":3,"file":"js/561.de515315.js","mappings":"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","sources":["webpack://StudentManagement/./src/views/teacher/Units.vue","webpack://StudentManagement/./src/api/teacher/units.js","webpack://StudentManagement/./src/views/teacher/Units.vue?885f"],"sourcesContent":["<template>\r\n  <div class=\"crumbs\">\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/admin/home' }\"\r\n        >首页</el-breadcrumb-item\r\n      >\r\n      <el-breadcrumb-item>教师信息</el-breadcrumb-item>\r\n      <el-breadcrumb-item :to=\"{ path: '/admin/units' }\"\r\n        >教师单位</el-breadcrumb-item\r\n      >\r\n    </el-breadcrumb>\r\n  </div>\r\n  <div class=\"box\">\r\n    <div class=\"up\">\r\n      <h1 class=\"title\">所有教师单位信息</h1>\r\n      <el-input\r\n        v-model=\"searchUnitsTeacherId\"\r\n        placeholder=\"请输入教师编号\"\r\n        clearable\r\n        size=\"large\"\r\n        style=\"width: 500px; margin: 0 20px 10px 0\"\r\n      />\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"handSearchByTeacherId\"\r\n        style=\"margin: 0 155px 0 0\"\r\n        >搜索</el-button\r\n      >\r\n      <el-input\r\n        v-model=\"searchUnitsName\"\r\n        placeholder=\"请输入教师姓名\"\r\n        clearable\r\n        size=\"large\"\r\n        style=\"width: 500px; margin: 0 20px 0 0\"\r\n      />\r\n      <el-button type=\"primary\" @click=\"handSearchByName\">搜索</el-button>\r\n      <el-button type=\"primary\" @click=\"handReset\">重置</el-button>\r\n      <el-button type=\"primary\" @click=\"handAdd\">新增</el-button>\r\n    </div>\r\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" type=\"index\" label=\"ID\" width=\"120\" />\r\n      <el-table-column\r\n        prop=\"teacherID\"\r\n        label=\"教师编号\"\r\n        width=\"auto\"\r\n        sortable=\"\"\r\n      />\r\n      <el-table-column prop=\"teacherName\" label=\"教师名称\" width=\"auto\" />\r\n      <el-table-column prop=\"phone\" label=\"电话\" width=\"auto\" />\r\n      <el-table-column prop=\"unitName\" label=\"学院名称\" width=\"auto\" />\r\n      <el-table-column fixed=\"right\" label=\"Operations\" width=\"120\">\r\n        <template #default=\"scoped\">\r\n          <el-button\r\n            link\r\n            type=\"danger\"\r\n            size=\"small\"\r\n            @click=\"handDelete(scoped.row.id)\"\r\n            >删除</el-button\r\n          >\r\n          <el-button\r\n            link\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click=\"handUpdate(scoped.row)\"\r\n            >修改</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog title=\"修改或新增\" v-model=\"dialogVisible\" width=\"30%\">\r\n      <el-form :model=\"form\" label-width=\"120px\" :rules=\"rules\" ref=\"form\">\r\n        <el-form-item label=\"教师编号\" prop=\"teacherID\">\r\n          <el-input v-model=\"form.teacherID\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"教师名称\" prop=\"teacherName\">\r\n          <el-input v-model=\"form.teacherName\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"学院名称\" prop=\"unitName\">\r\n          <el-input v-model=\"form.unitName\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"save\">确定</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!--    添加分页导航-->\r\n    <div class=\"pageInfo\" style=\"margin: 40px 0\">\r\n      <el-pagination\r\n        @size-change=\"handlePageSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 15]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  selectAllUnitsInfo,\r\n  searchUnitsByTeacherId,\r\n  searchUnitsByName,\r\n  deleteUnitsById,\r\n  insertUnits,\r\n  updateUnits,\r\n} from \"@/api/teacher/units\";\r\nimport { handleErrorResponse } from \"@/util/request\";\r\nimport { getToken, removeToken } from \"@/util/auth\";\r\n\r\nexport default {\r\n  name: \"courses\",\r\n  data() {\r\n    return {\r\n      // 增加分页相应的数据绑定\r\n      // 当前页\r\n      currentPage: 1,\r\n      // 每页显示记录数\r\n      pageSize: 10,\r\n\r\n      // 共有多少记录\r\n      total: 10,\r\n      tableData: [],\r\n      // 搜索输入的值\r\n      searchUnitsTeacherId: \"\",\r\n      searchUnitsName: \"\",\r\n      dialogVisible: false,\r\n      form: {},\r\n      rules: {\r\n        teacherID: {\r\n          required: true,\r\n          message: \"请输入教师编号数\",\r\n          trigger: \"blur\",\r\n          pattern: /^([0-9])+$/,\r\n        },\r\n        teacherName: {\r\n          required: true,\r\n          message: \"请输入教师名称\",\r\n          trigger: \"blur\",\r\n        },\r\n        phone: {\r\n          required: true,\r\n          message: \"请输入电话\",\r\n          trigger: \"blur\",\r\n          pattern: /^([1-9])?([0-9]){11}$/,\r\n        },\r\n        unitName: {\r\n          required: true,\r\n          message: \"请输入教师单位\",\r\n          trigger: \"blur\",\r\n        },\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.selectAll();\r\n  },\r\n  methods: {\r\n    // 查询所有教师单位\r\n    selectAll() {\r\n      const token = getToken();\r\n      if (token !== null) {\r\n        const pageNum = this.currentPage;\r\n        const pageSize = this.pageSize;\r\n        selectAllUnitsInfo(pageNum, pageSize)\r\n          .then((response) => {\r\n            // console.log(response);\r\n            if (response.code === 200) {\r\n              this.tableData = response.data.list;\r\n              this.total = response.data.total;\r\n            } else if (response.code === 401) {\r\n              handleErrorResponse(response.code);\r\n              removeToken(getToken);\r\n              this.$router.push(\"/\");\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"请重新登录\",\r\n              });\r\n            } else {\r\n              handleErrorResponse(response.code);\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        removeToken(getToken);\r\n        this.$router.push(\"/\");\r\n        this.$message({\r\n          type: \"error\",\r\n          message: \"请登录\",\r\n        });\r\n      }\r\n    },\r\n    // 处理分页请求\r\n    handleCurrentChange(pageNum) {\r\n      // 当用户点击分页超链接时，会携带 pageNum\r\n      // console.log(pageNum)\r\n      // 此处的 pageNum 是后端传来的数据\r\n      this.currentPage = pageNum;\r\n      // 发出请求\r\n      this.selectAll();\r\n    },\r\n    handlePageSizeChange(pageSize) {\r\n      //   console.log( pageSize);\r\n      // 此处的 pageSize 是后端传来的数据\r\n      this.pageSize = pageSize;\r\n\r\n      this.selectAll();\r\n    },\r\n    // 根据教师编号（TeacherId）搜索\r\n    handSearchByTeacherId() {\r\n      //   console.log(this.search);\r\n      const data = this.searchUnitsTeacherId;\r\n      if (data) {\r\n        searchUnitsByTeacherId(data)\r\n          .then((response) => {\r\n            if (response.code == 200) {\r\n              this.tableData = response.data;\r\n            } else if (response.code === 401) {\r\n              handleErrorResponse(response.code);\r\n              removeToken(getToken);\r\n              this.$router.push(\"/\");\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"请重新登录\",\r\n              });\r\n            } else {\r\n              handleErrorResponse(response.code);\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    // 根据教师名称查询\r\n    handSearchByName() {\r\n      const data = this.searchUnitsName;\r\n      // console.log(data);\r\n      if (data) {\r\n        searchUnitsByName(data)\r\n          .then((response) => {\r\n            if (response.code == 200) {\r\n              this.tableData = response.data;\r\n            } else if (response.code === 401) {\r\n              handleErrorResponse(response.code);\r\n              removeToken(getToken);\r\n              this.$router.push(\"/\");\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"请重新登录\",\r\n              });\r\n            } else {\r\n              handleErrorResponse(response.code);\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    // 重置按钮\r\n    handReset() {\r\n      this.selectAll();\r\n      this.searchUnitsTeacherId = \"\";\r\n      this.searchUnitsName = \"\";\r\n    },\r\n    // 删除\r\n    handDelete(id) {\r\n      //   console.log(id);\r\n      deleteUnitsById(id)\r\n        .then((response) => {\r\n          if (response.code == 200) {\r\n            this.selectAll();\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功\",\r\n            });\r\n          } else if (response.code === 401) {\r\n            handleErrorResponse(response.code);\r\n            removeToken(getToken);\r\n            this.$router.push(\"/\");\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"请重新登录\",\r\n            });\r\n          } else {\r\n            handleErrorResponse(response.code);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 增加弹窗\r\n    handAdd() {\r\n      this.dialogVisible = true;\r\n      // 清除添加表单数据\r\n      this.form = {};\r\n      // 清空上次校验信息\r\n      // 判断 form 表单中有没有需要重置的内容如果有则重置\r\n      if (this.$refs[\"form\"] !== undefined) {\r\n        this.$refs[\"form\"].resetFields();\r\n      }\r\n    },\r\n    // 增加和修改\r\n    save() {\r\n      // 如果为 true 则为增加，反正则为修改\r\n      //   console.log(Boolean(this.form.id) + this.form.id);\r\n      if (this.form.id) {\r\n        // const data = this.form;\r\n        this.$refs[\"form\"].validate((validate) => {\r\n          // 让前端校验放行，测试完毕后，在修改回去\r\n          // console.log(validate);\r\n          //   validate = true;\r\n          // validate 就是表单校验后返回的结果\r\n          if (validate) {\r\n            const data = this.form;\r\n            updateUnits(data)\r\n              .then((response) => {\r\n                if (response.code == 200) {\r\n                  this.$message({\r\n                    type: \"success\",\r\n                    message: \"修改成功\",\r\n                  });\r\n                  this.selectAll();\r\n                  this.dialogVisible = false;\r\n                } else if (response.code === 300) {\r\n                  this.$message({\r\n                    type: \"error\",\r\n                    message: response.msg,\r\n                  });\r\n                } else if (response.code === 401) {\r\n                  handleErrorResponse(response.code);\r\n                  removeToken(getToken);\r\n                  this.$router.push(\"/\");\r\n                  this.$message({\r\n                    type: \"error\",\r\n                    message: \"请重新登录\",\r\n                  });\r\n                } else if (response.code === 403) {\r\n                  handleErrorResponse(response.code);\r\n                  this.dialogVisible = false;\r\n                } else {\r\n                  handleErrorResponse(response.code);\r\n                }\r\n              })\r\n              .catch(() => {});\r\n          } else {\r\n            // 校验没有通过\r\n            // 提示 校验失败 消息框\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"验证失败，不提交\",\r\n            });\r\n          }\r\n          // 放弃提交\r\n          return false;\r\n        });\r\n      } else {\r\n        this.$refs[\"form\"].validate((validate) => {\r\n          // 让前端校验放行，测试完毕后，在修改回去\r\n          // console.log(validate);\r\n          //   validate = true;\r\n          // validate 就是表单校验后返回的结果\r\n          if (validate) {\r\n            insertUnits(this.form)\r\n              .then((response) => {\r\n                if (response.code == 200) {\r\n                  this.$message({\r\n                    type: \"success\",\r\n                    message: \"增加成功\",\r\n                  });\r\n                  this.selectAll();\r\n                  this.dialogVisible = false;\r\n                } else if (response.code === 300) {\r\n                  this.$message({\r\n                    type: \"error\",\r\n                    message: response.msg,\r\n                  });\r\n                } else if (response.code === 401) {\r\n                  handleErrorResponse(response.code);\r\n                  removeToken(getToken);\r\n                  this.$router.push(\"/\");\r\n                  this.$message({\r\n                    type: \"error\",\r\n                    message: \"请重新登录\",\r\n                  });\r\n                } else if (response.code === 403) {\r\n                  handleErrorResponse(response.code);\r\n                  this.dialogVisible = false;\r\n                } else {\r\n                  handleErrorResponse(response.code);\r\n                }\r\n              })\r\n              .catch(() => {});\r\n          } else {\r\n            // 校验没有通过\r\n            // 提示 校验失败 消息框\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"验证失败，不提交\",\r\n            });\r\n          }\r\n          // 放弃提交\r\n          return false;\r\n        });\r\n      }\r\n    },\r\n    // 修改弹窗\r\n    handUpdate(row) {\r\n      // JSON.stringify(row) 将 row 传为 json 字符串\r\n      // JSON.parse(JSON.stringify(row)) 将 json 字符串转为 json 对象\r\n      this.form = JSON.parse(JSON.stringify(row));\r\n      this.dialogVisible = true;\r\n      if (this.$refs[\"form\"] != undefined) {\r\n        this.$refs[\"form\"].resetFields();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.crumbs {\r\n  margin-bottom: 20px;\r\n}\r\n.pageInfo {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.up {\r\n  margin: 0 0 20px 0;\r\n}\r\n.title {\r\n  display: block;\r\n  float: right;\r\n  margin: 0 40px 0 0;\r\n}\r\n</style>\r\n","import request from \"@/util/request\";\r\n\r\n// 查询所有\r\nexport function selectAllUnitsInfo(pageNum, pageSize) {\r\n  return request({\r\n    method: \"get\",\r\n    url: \"/admin/units\",\r\n    params: {\r\n      pageNum: pageNum,\r\n      pageSize: pageSize,\r\n    },\r\n  });\r\n}\r\n\r\n// 根据教师编号搜索\r\nexport function searchUnitsByTeacherId(id) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/admin/searchUnitsByTeacherId\",\r\n    params: {\r\n      teachersId: id,\r\n    },\r\n  });\r\n}\r\n\r\n// 根据教师名称搜索\r\nexport function searchUnitsByName(name) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/admin/searchUnitsByName\",\r\n    params: {\r\n      name: name,\r\n    },\r\n  });\r\n}\r\n\r\n// 删除\r\nexport function deleteUnitsById(id) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/admin/deleteUnitsById\",\r\n    params: {\r\n      id: id,\r\n    },\r\n  });\r\n}\r\n\r\n// 增加\r\nexport function insertUnits(data) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/admin/insertUnits\",\r\n    data: data,\r\n  });\r\n}\r\n\r\n// 修改\r\nexport function updateUnits(data) {\r\n  return request({\r\n    method: \"post\",\r\n    url: \"/admin/updateUnits\",\r\n    data: data,\r\n  });\r\n}\r\n","import { render } from \"./Units.vue?vue&type=template&id=16e5ea3d&scoped=true\"\nimport script from \"./Units.vue?vue&type=script&lang=js\"\nexport * from \"./Units.vue?vue&type=script&lang=js\"\n\nimport \"./Units.vue?vue&type=style&index=0&id=16e5ea3d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16e5ea3d\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_1","_createVNode","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_hoisted_2","_hoisted_3","_hoisted_4","_component_el_input","$data","searchUnitsTeacherId","$event","placeholder","clearable","size","_component_el_button","type","onClick","$options","handSearchByTeacherId","searchUnitsName","handSearchByName","handReset","handAdd","_component_el_table","data","tableData","stripe","_component_el_table_column","prop","label","width","sortable","fixed","default","_withCtx","scoped","link","handDelete","row","id","handUpdate","_component_el_dialog","title","dialogVisible","footer","_hoisted_5","_cache","save","_component_el_form","model","form","rules","ref","_component_el_form_item","teacherID","teacherName","phone","unitName","_hoisted_6","_component_el_pagination","onSizeChange","handlePageSizeChange","onCurrentChange","handleCurrentChange","currentPage","pageSize","layout","total","selectAllUnitsInfo","pageNum","request","method","url","params","searchUnitsByTeacherId","teachersId","searchUnitsByName","name","deleteUnitsById","insertUnits","updateUnits","required","message","trigger","pattern","mounted","this","selectAll","methods","token","getToken","then","response","code","list","handleErrorResponse","removeToken","$router","push","$message","catch","undefined","$refs","resetFields","validate","msg","JSON","parse","stringify","__exports__","render"],"sourceRoot":""}