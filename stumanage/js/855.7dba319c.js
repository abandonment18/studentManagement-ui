"use strict";(self["webpackChunkStudentManagement"]=self["webpackChunkStudentManagement"]||[]).push([[855],{6407:function(e,t,a){a.d(t,{E2:function(){return i},Fr:function(){return d},OU:function(){return l},S9:function(){return o},lX:function(){return r},vq:function(){return n}});var s=a(7068);function r(e,t){return(0,s.Z)({method:"get",url:"/admin/courses",params:{pageNum:e,pageSize:t}})}function l(){return(0,s.Z)({method:"get",url:"/admin/selectAllCoursesInfoList"})}function o(e){return(0,s.Z)({method:"post",url:"/admin/searchByCoursesId",params:{CoursesId:e}})}function i(e){return(0,s.Z)({method:"post",url:"/admin/deleteCoursesById",params:{id:e}})}function d(e){return(0,s.Z)({method:"post",url:"/admin/insertCourses",data:e})}function n(e){return(0,s.Z)({method:"post",url:"/admin/updateCourses",data:e})}},8855:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(6252);const r=e=>((0,s.dD)("data-v-7231bbca"),e=e(),(0,s.Cn)(),e),l={class:"crumbs"},o={class:"box"},i={class:"up"},d=r((()=>(0,s._)("h1",{class:"title"},"课程表",-1))),n={class:"dialog-footer"},u={class:"pageInfo",style:{margin:"40px 0"}};function m(e,t,a,r,m,c){const h=(0,s.up)("el-breadcrumb-item"),p=(0,s.up)("el-breadcrumb"),g=(0,s.up)("el-input"),f=(0,s.up)("el-button"),y=(0,s.up)("el-table-column"),b=(0,s.up)("el-table"),w=(0,s.up)("el-form-item"),C=(0,s.up)("el-form"),W=(0,s.up)("el-dialog"),k=(0,s.up)("el-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s.Wm)(p,{separator:"/"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{to:{path:"/admin/home"}},{default:(0,s.w5)((()=>[(0,s.Uk)("首页")])),_:1}),(0,s.Wm)(h,{to:{path:"/admin/courses"}},{default:(0,s.w5)((()=>[(0,s.Uk)("课程信息")])),_:1})])),_:1})]),(0,s._)("div",o,[(0,s._)("div",i,[(0,s.Wm)(g,{modelValue:m.search,"onUpdate:modelValue":t[0]||(t[0]=e=>m.search=e),placeholder:"请输入课程编号",clearable:"",size:"large",style:{width:"500px",margin:"0 20px 0 0"}},null,8,["modelValue"]),(0,s.Wm)(f,{type:"primary",onClick:c.handSearch},{default:(0,s.w5)((()=>[(0,s.Uk)("搜索")])),_:1},8,["onClick"]),(0,s.Wm)(f,{type:"primary",onClick:c.handReset},{default:(0,s.w5)((()=>[(0,s.Uk)("重置")])),_:1},8,["onClick"]),(0,s.Wm)(f,{type:"primary",onClick:c.handAdd},{default:(0,s.w5)((()=>[(0,s.Uk)("新增")])),_:1},8,["onClick"]),d]),(0,s.Wm)(b,{data:m.tableData,stripe:"",style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{prop:"id",type:"index",label:"ID",width:"120"}),(0,s.Wm)(y,{prop:"courseID",label:"课程编号",width:"auto",sortable:""}),(0,s.Wm)(y,{prop:"courseName",label:"课程名称",width:"auto"}),(0,s.Wm)(y,{prop:"departmentOffering",label:"任课单位",width:"auto"}),(0,s.Wm)(y,{prop:"teacherID",label:"任课教师编号",width:"auto"}),(0,s.Wm)(y,{prop:"count",label:"选课人数",width:"auto"}),(0,s.Wm)(y,{fixed:"right",label:"Operations",width:"120"},{default:(0,s.w5)((e=>[(0,s.Wm)(f,{link:"",type:"danger",size:"small",onClick:t=>c.handDelete(e.row)},{default:(0,s.w5)((()=>[(0,s.Uk)("删除")])),_:2},1032,["onClick"]),(0,s.Wm)(f,{link:"",type:"primary",size:"small",onClick:t=>c.handUpdate(e.row)},{default:(0,s.w5)((()=>[(0,s.Uk)("修改")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,s.Wm)(W,{title:"修改或新增",modelValue:m.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>m.dialogVisible=e),width:"30%"},{footer:(0,s.w5)((()=>[(0,s._)("span",n,[(0,s.Wm)(f,{onClick:t[5]||(t[5]=e=>m.dialogVisible=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("取消")])),_:1}),(0,s.Wm)(f,{type:"primary",onClick:c.save},{default:(0,s.w5)((()=>[(0,s.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,s.w5)((()=>[(0,s.Wm)(C,{model:m.form,"label-width":"120px",rules:m.rules,ref:"form"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{label:"课程编号",prop:"courseID"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.courseID,"onUpdate:modelValue":t[1]||(t[1]=e=>m.form.courseID=e),modelModifiers:{number:!0},style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"课程名称",prop:"courseName"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.courseName,"onUpdate:modelValue":t[2]||(t[2]=e=>m.form.courseName=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"任课单位",prop:"departmentOffering"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.departmentOffering,"onUpdate:modelValue":t[3]||(t[3]=e=>m.form.departmentOffering=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"任课教师编号",prop:"teacherID"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.teacherID,"onUpdate:modelValue":t[4]||(t[4]=e=>m.form.teacherID=e),modelModifiers:{number:!0},style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),(0,s._)("div",u,[(0,s.Wm)(k,{onSizeChange:c.handlePageSizeChange,onCurrentChange:c.handleCurrentChange,"current-page":m.currentPage,"page-sizes":[5,10,15],"page-size":m.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:m.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])],64)}a(7658);var c=a(6407),h=a(7068),p=a(3695),g={name:"courses",data(){return{currentPage:1,pageSize:10,total:10,tableData:[],search:"",dialogVisible:!1,form:{},rules:{courseID:{required:!0,message:"请输入课程编号数",pattern:/^([0-9])+$/,trigger:"blur"},courseName:{required:!0,message:"请输入课程名",trigger:"blur"},departmentOffering:{required:!0,message:"请输入任课单位",trigger:"blur"},teacherID:{required:!0,message:"请输入任课教师的编号数",pattern:/^([0-9])+$/,trigger:"blur"}}}},mounted(){this.selectAll()},methods:{selectAll(){const e=(0,p.LP)();if(null!==e){const e=this.currentPage,t=this.pageSize;(0,c.lX)(e,t).then((e=>{200===e.code?(this.tableData=e.data.list,this.total=e.data.total):401===e.code?((0,h.y)(e.code),(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,h.y)(e.code)})).catch((()=>{}))}else(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请登录"})},handleCurrentChange(e){this.currentPage=e,this.selectAll()},handlePageSizeChange(e){this.pageSize=e,this.selectAll()},handSearch(){const e=this.search;if(!e)return!1;(0,c.S9)(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,h.y)(e.code),(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,h.y)(e.code)})).catch((()=>{}))},handReset(){this.selectAll(),this.search=""},handDelete(e){0===e.count?(0,c.E2)(e.id).then((e=>{200==e.code?(this.selectAll(),this.$message({type:"success",message:"删除成功"})):401===e.code?((0,h.y)(e.code),(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,h.y)(e.code)})).catch((()=>{})):this.$message({type:"error",message:"删除失败"})},handAdd(){this.dialogVisible=!0,this.form={},void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()},save(){this.form.id?this.$refs["form"].validate((e=>{if(e){const e=this.form;(0,c.vq)(e).then((e=>{200==e.code?(this.selectAll(),this.$message({type:"success",message:"修改成功"}),this.dialogVisible=!1):401===e.code?((0,h.y)(e.code),(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):300===e.code?this.$message({type:"error",message:e.msg}):(e.code,(0,h.y)(e.code)),this.selectAll()})).catch((()=>{}))}else this.$message({type:"error",message:"验证失败，不提交"});return!1})):this.$refs["form"].validate((e=>(e?(0,c.Fr)(this.form).then((e=>{200==e.code?(this.$message({type:"success",message:"增加成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,h.y)(e.code),(0,p.gy)(p.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,h.y)(e.code),this.dialogVisible=!1):(0,h.y)(e.code)})).catch((()=>{})):this.$message({type:"error",message:"验证失败，不提交"}),!1)))},handUpdate(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,void 0!=this.$refs["form"]&&this.$refs["form"].resetFields()}}},f=a(3744);const y=(0,f.Z)(g,[["render",m],["__scopeId","data-v-7231bbca"]]);var b=y}}]);
//# sourceMappingURL=855.7dba319c.js.map