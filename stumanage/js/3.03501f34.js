"use strict";(self["webpackChunkStudentManagement"]=self["webpackChunkStudentManagement"]||[]).push([[3],{3:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(6252);const r=e=>((0,l.dD)("data-v-4ec1a628"),e=e(),(0,l.Cn)(),e),s={class:"crumbs"},d={class:"box"},i={class:"up"},o=r((()=>(0,l._)("h1",{class:"title"},"所有教师信息",-1))),m={class:"dialog-footer"},n={class:"pageInfo",style:{margin:"40px 0"}};function h(e,a,t,r,h,u){const c=(0,l.up)("el-breadcrumb-item"),p=(0,l.up)("el-breadcrumb"),g=(0,l.up)("el-input"),f=(0,l.up)("el-button"),y=(0,l.up)("el-table-column"),b=(0,l.up)("el-table"),w=(0,l.up)("el-form-item"),W=(0,l.up)("el-radio"),V=(0,l.up)("el-radio-group"),k=(0,l.up)("el-form"),C=(0,l.up)("el-dialog"),_=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",s,[(0,l.Wm)(p,{separator:"/"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{to:{path:"/admin/home"}},{default:(0,l.w5)((()=>[(0,l.Uk)("首页")])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)("教师信息")])),_:1}),(0,l.Wm)(c,{to:{path:"/admin/allteacher"}},{default:(0,l.w5)((()=>[(0,l.Uk)("所有教师")])),_:1})])),_:1})]),(0,l._)("div",d,[(0,l._)("div",i,[o,(0,l.Wm)(g,{modelValue:h.searchTeacherId,"onUpdate:modelValue":a[0]||(a[0]=e=>h.searchTeacherId=e),placeholder:"请输入教师编号",clearable:"",size:"large",style:{width:"500px",margin:"0 20px 10px 0"}},null,8,["modelValue"]),(0,l.Wm)(f,{type:"primary",onClick:u.handSearchByTeacherId,style:{margin:"0 155px 0 0"}},{default:(0,l.w5)((()=>[(0,l.Uk)("搜索")])),_:1},8,["onClick"]),(0,l.Wm)(g,{modelValue:h.searchName,"onUpdate:modelValue":a[1]||(a[1]=e=>h.searchName=e),placeholder:"请输入教师姓名",clearable:"",size:"large",style:{width:"500px",margin:"0 20px 0 0"}},null,8,["modelValue"]),(0,l.Wm)(f,{type:"primary",onClick:u.handSearchByName},{default:(0,l.w5)((()=>[(0,l.Uk)("搜索")])),_:1},8,["onClick"]),(0,l.Wm)(f,{type:"primary",onClick:u.handReset},{default:(0,l.w5)((()=>[(0,l.Uk)("重置")])),_:1},8,["onClick"]),(0,l.Wm)(f,{type:"primary",onClick:u.handAdd},{default:(0,l.w5)((()=>[(0,l.Uk)("新增")])),_:1},8,["onClick"])]),(0,l.Wm)(b,{data:h.tableData,stripe:"",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{prop:"id",type:"index",label:"ID",width:"120"}),(0,l.Wm)(y,{prop:"teacherID",label:"教师编号",width:"auto",sortable:""}),(0,l.Wm)(y,{prop:"name",label:"教师名称",width:"auto"}),(0,l.Wm)(y,{prop:"gender",label:"性别",width:"auto"}),(0,l.Wm)(y,{prop:"title",label:"教师职称",width:"auto"}),(0,l.Wm)(y,{prop:"department",label:"教师所在院系",width:"auto"}),(0,l.Wm)(y,{fixed:"right",label:"Operations",width:"120"},{default:(0,l.w5)((e=>[(0,l.Wm)(f,{link:"",type:"danger",size:"small",onClick:a=>u.handDelete(e.row.id)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"]),(0,l.Wm)(f,{link:"",type:"primary",size:"small",onClick:a=>u.handUpdate(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("修改")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l.Wm)(C,{title:"修改或新增",modelValue:h.dialogVisible,"onUpdate:modelValue":a[8]||(a[8]=e=>h.dialogVisible=e),width:"30%"},{footer:(0,l.w5)((()=>[(0,l._)("span",m,[(0,l.Wm)(f,{onClick:a[7]||(a[7]=e=>h.dialogVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(f,{type:"primary",onClick:u.save},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(k,{model:h.form,"label-width":"120px",rules:h.rules,ref:"form"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:"教师编号",prop:"teacherID"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:h.form.teacherID,"onUpdate:modelValue":a[2]||(a[2]=e=>h.form.teacherID=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"教师名称",prop:"name"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:h.form.name,"onUpdate:modelValue":a[3]||(a[3]=e=>h.form.name=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"性别",prop:"gender"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:h.form.gender,"onUpdate:modelValue":a[4]||(a[4]=e=>h.form.gender=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{label:"男"}),(0,l.Wm)(W,{label:"女"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"教师职称",prop:"title"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:h.form.title,"onUpdate:modelValue":a[5]||(a[5]=e=>h.form.title=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{label:"教师所在院系",prop:"department"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:h.form.department,"onUpdate:modelValue":a[6]||(a[6]=e=>h.form.department=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),(0,l._)("div",n,[(0,l.Wm)(_,{onSizeChange:u.handlePageSizeChange,onCurrentChange:u.handleCurrentChange,"current-page":h.currentPage,"page-sizes":[5,10,15],"page-size":h.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:h.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])],64)}t(7658);var u=t(7068);function c(e,a){return(0,u.Z)({method:"get",url:"/admin/teachers",params:{pageNum:e,pageSize:a}})}function p(e){return(0,u.Z)({method:"post",url:"/admin/searchByTeachersId",params:{teachersId:e}})}function g(e){return(0,u.Z)({method:"post",url:"/admin/searchByName",params:{name:e}})}function f(e){return(0,u.Z)({method:"post",url:"/admin/deleteTeachersById",params:{id:e}})}function y(e){return(0,u.Z)({method:"post",url:"/admin/insertTeachers",data:e})}function b(e){return(0,u.Z)({method:"post",url:"/admin/updateTeachers",data:e})}var w=t(3695),W={name:"courses",data(){return{currentPage:1,pageSize:10,total:10,tableData:[],searchTeacherId:"",searchName:"",dialogVisible:!1,form:{},rules:{teacherID:{required:!0,message:"请输入教师编号数",trigger:"blur",pattern:/^([0-9])+$/},name:{required:!0,message:"请输入教师名称",trigger:"blur"},gender:{required:!0,message:"请输入性别",trigger:"blur"},title:{required:!0,message:"请输入教师职称",trigger:"blur"},department:{required:!0,message:"请输入教师所属院系",trigger:"blur"}}}},mounted(){this.selectAll()},methods:{selectAll(){const e=(0,w.LP)();if(null!==e){const e=this.currentPage,a=this.pageSize;c(e,a).then((e=>{200===e.code?(this.tableData=e.data.list,this.total=e.data.total):401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,u.y)(e.code)})).catch((()=>{}))}else(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请登录"})},handleCurrentChange(e){this.currentPage=e,this.selectAll()},handlePageSizeChange(e){this.pageSize=e,this.selectAll()},handSearchByTeacherId(){const e=this.searchTeacherId;if(!e)return!1;p(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,u.y)(e.code)})).catch((()=>{}))},handSearchByName(){const e=this.searchName;if(!e)return!1;g(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,u.y)(e.code)})).catch((()=>{}))},handReset(){this.selectAll(),this.searchTeacherId="",this.searchName=""},handDelete(e){f(e).then((e=>{200==e.code?(this.selectAll(),this.$message({type:"success",message:"删除成功"})):401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,u.y)(e.code)})).catch((()=>{}))},handAdd(){this.dialogVisible=!0,this.form={},void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()},save(){this.form.id?this.$refs["form"].validate((e=>{if(e){const e=this.form;b(e).then((e=>{200==e.code?(this.$message({type:"success",message:"修改成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,u.y)(e.code),this.dialogVisible=!1):(0,u.y)(e.code)})).catch((()=>{}))}else this.$message({type:"error",message:"验证失败，不提交"});return!1})):this.$refs["form"].validate((e=>(e?y(this.form).then((e=>{200==e.code?(this.$message({type:"success",message:"增加成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,u.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,u.y)(e.code),this.dialogVisible=!1):(0,u.y)(e.code)})).catch((()=>{})):this.$message({type:"error",message:"验证失败，不提交"}),!1)))},handUpdate(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,void 0!=this.$refs["form"]&&this.$refs["form"].resetFields()}}},V=t(3744);const k=(0,V.Z)(W,[["render",h],["__scopeId","data-v-4ec1a628"]]);var C=k}}]);
//# sourceMappingURL=3.03501f34.js.map