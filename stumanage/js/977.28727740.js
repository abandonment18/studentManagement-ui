"use strict";(self["webpackChunkStudentManagement"]=self["webpackChunkStudentManagement"]||[]).push([[977],{6977:function(e,a,r){r.r(a),r.d(a,{default:function(){return k}});var t=r(6252);const s=e=>((0,t.dD)("data-v-50e07ec6"),e=e(),(0,t.Cn)(),e),l={class:"crumbs"},o={class:"box"},i={class:"up"},d=s((()=>(0,t._)("h1",{class:"title"},"所有教师授课信息",-1))),h={class:"dialog-footer"},c={class:"pageInfo",style:{margin:"40px 0"}};function u(e,a,r,s,u,m){const n=(0,t.up)("el-breadcrumb-item"),p=(0,t.up)("el-breadcrumb"),g=(0,t.up)("el-input"),y=(0,t.up)("el-button"),f=(0,t.up)("el-table-column"),C=(0,t.up)("el-table"),b=(0,t.up)("el-form-item"),w=(0,t.up)("el-form"),T=(0,t.up)("el-dialog"),V=(0,t.up)("el-pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[(0,t.Wm)(p,{separator:"/"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{to:{path:"/admin/home"}},{default:(0,t.w5)((()=>[(0,t.Uk)("首页")])),_:1}),(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Uk)("教师信息")])),_:1}),(0,t.Wm)(n,{to:{path:"/admin/teachercourses"}},{default:(0,t.w5)((()=>[(0,t.Uk)("教师授课")])),_:1})])),_:1})]),(0,t._)("div",o,[(0,t._)("div",i,[d,(0,t.Wm)(g,{modelValue:u.searchTeacherCourseTeacherId,"onUpdate:modelValue":a[0]||(a[0]=e=>u.searchTeacherCourseTeacherId=e),placeholder:"请输入教师编号",clearable:"",size:"large",style:{width:"450px",margin:"0 20px 10px 0"}},null,8,["modelValue"]),(0,t.Wm)(y,{type:"primary",onClick:m.handSearchByTeacherId,style:{margin:"0 155px 0 0"}},{default:(0,t.w5)((()=>[(0,t.Uk)("搜索")])),_:1},8,["onClick"]),(0,t.Wm)(g,{modelValue:u.searchTeacherCourseCourseName,"onUpdate:modelValue":a[1]||(a[1]=e=>u.searchTeacherCourseCourseName=e),placeholder:"请输入课程姓名",clearable:"",size:"large",style:{width:"450px",margin:"0 20px 10px 0"}},null,8,["modelValue"]),(0,t.Wm)(y,{type:"primary",onClick:m.handSearchByByCourseName,style:{margin:"0 7px 0 0"}},{default:(0,t.w5)((()=>[(0,t.Uk)("搜索")])),_:1},8,["onClick"]),(0,t.Wm)(g,{modelValue:u.searchTeacherCourseTeacherName,"onUpdate:modelValue":a[2]||(a[2]=e=>u.searchTeacherCourseTeacherName=e),placeholder:"请输入教师姓名",clearable:"",size:"large",style:{width:"450px",margin:"0 20px 0 0"}},null,8,["modelValue"]),(0,t.Wm)(y,{type:"primary",onClick:m.handSearchByByTeacherName},{default:(0,t.w5)((()=>[(0,t.Uk)("搜索")])),_:1},8,["onClick"]),(0,t.Wm)(y,{type:"primary",onClick:m.handReset},{default:(0,t.w5)((()=>[(0,t.Uk)("重置")])),_:1},8,["onClick"]),(0,t.Wm)(y,{type:"primary",onClick:m.handAdd},{default:(0,t.w5)((()=>[(0,t.Uk)("新增")])),_:1},8,["onClick"])]),(0,t.Wm)(C,{data:u.tableData,stripe:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{prop:"id",type:"index",label:"ID",width:"120"}),(0,t.Wm)(f,{prop:"teacherID",label:"教师编号",width:"auto",sortable:""}),(0,t.Wm)(f,{prop:"teacherName",label:"教师名称",width:"auto"}),(0,t.Wm)(f,{prop:"courseID",label:"课程编号",width:"auto"}),(0,t.Wm)(f,{prop:"courseName",label:"课程名称",width:"auto"}),(0,t.Wm)(f,{prop:"courseCredit",label:"所修学分",width:"auto"}),(0,t.Wm)(f,{fixed:"right",label:"Operations",width:"120"},{default:(0,t.w5)((e=>[(0,t.Wm)(y,{link:"",type:"danger",size:"small",onClick:a=>m.handDelete(e.row.id)},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:2},1032,["onClick"]),(0,t.Wm)(y,{link:"",type:"primary",size:"small",onClick:a=>m.handUpdate(e.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("修改")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,t.Wm)(T,{title:"修改或新增",modelValue:u.dialogVisible,"onUpdate:modelValue":a[9]||(a[9]=e=>u.dialogVisible=e),width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",h,[(0,t.Wm)(y,{onClick:a[8]||(a[8]=e=>u.dialogVisible=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(y,{type:"primary",onClick:m.save},{default:(0,t.w5)((()=>[(0,t.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(w,{model:u.form,"label-width":"120px",rules:u.rules,ref:"form"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{label:"教师编号",prop:"teacherID"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:u.form.teacherID,"onUpdate:modelValue":a[3]||(a[3]=e=>u.form.teacherID=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"教师名称",prop:"teacherName"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:u.form.teacherName,"onUpdate:modelValue":a[4]||(a[4]=e=>u.form.teacherName=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"课程编号",prop:"courseID"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:u.form.courseID,"onUpdate:modelValue":a[5]||(a[5]=e=>u.form.courseID=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"课程名称",prop:"courseName"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:u.form.courseName,"onUpdate:modelValue":a[6]||(a[6]=e=>u.form.courseName=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"所修学分",prop:"courseCredit"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{modelValue:u.form.courseCredit,"onUpdate:modelValue":a[7]||(a[7]=e=>u.form.courseCredit=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),(0,t._)("div",c,[(0,t.Wm)(V,{onSizeChange:m.handlePageSizeChange,onCurrentChange:m.handleCurrentChange,"current-page":u.currentPage,"page-sizes":[5,10,15],"page-size":u.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:u.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])],64)}r(7658);var m=r(7068);function n(e,a){return(0,m.Z)({method:"get",url:"/admin/teacherCourse",params:{pageNum:e,pageSize:a}})}function p(e){return(0,m.Z)({method:"post",url:"/admin/searchTeacherCourseByTeachersId",params:{teachersId:e}})}function g(e){return(0,m.Z)({method:"post",url:"/admin/searchTeacherCourseByCourseName",params:{name:e}})}function y(e){return(0,m.Z)({method:"post",url:"/admin/searchTeacherCourseByTeacherName",params:{name:e}})}function f(e){return(0,m.Z)({method:"post",url:"/admin/deleteTeacherCourseById",params:{id:e}})}function C(e){return(0,m.Z)({method:"post",url:"/admin/insertTeacherCourse",data:e})}function b(e){return(0,m.Z)({method:"post",url:"/admin/updateTeacherCourse",data:e})}var w=r(3695),T={name:"courses",data(){return{currentPage:1,pageSize:10,total:10,tableData:[],searchTeacherCourseTeacherId:"",searchTeacherCourseTeacherName:"",searchTeacherCourseCourseName:"",dialogVisible:!1,form:{},rules:{teacherID:{required:!0,message:"请输入教师编号数",trigger:"blur",pattern:/^([0-9])+$/},teacherName:{required:!0,message:"请输入教师名称",trigger:"blur"},courseID:{required:!0,message:"请输入课程编号",trigger:"blur",pattern:/^([0-9])+$/},courseName:{required:!0,message:"请输入课程名称",trigger:"blur"},courseCredit:{required:!0,message:"请输入课程所修学分",trigger:"blur",pattern:/^([0-9])$/}}}},mounted(){this.selectAll()},methods:{selectAll(){const e=(0,w.LP)();if(null!==e){const e=this.currentPage,a=this.pageSize;n(e,a).then((e=>{200===e.code?(this.tableData=e.data.list,this.total=e.data.total):401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,m.y)(e.code)})).catch((()=>{}))}else(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请登录"})},handleCurrentChange(e){this.currentPage=e,this.selectAll()},handlePageSizeChange(e){this.pageSize=e,this.selectAll()},handSearchByTeacherId(){const e=this.searchTeacherCourseTeacherId;if(!e)return!1;p(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,m.y)(e.code)})).catch((()=>{}))},handSearchByByTeacherName(){const e=this.searchTeacherCourseTeacherName;if(!e)return!1;y(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,m.y)(e.code)})).catch((()=>{}))},handSearchByByCourseName(){const e=this.searchTeacherCourseCourseName;if(!e)return!1;g(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,m.y)(e.code)})).catch((()=>{}))},handReset(){this.selectAll(),this.searchTeacherCourseTeacherId="",this.searchTeacherCourseTeacherName="",this.searchTeacherCourseCourseName=""},handDelete(e){f(e).then((e=>{200==e.code?(this.selectAll(),this.$message({type:"success",message:"删除成功"})):401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,m.y)(e.code)})).catch((()=>{}))},handAdd(){this.dialogVisible=!0,this.form={},void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()},save(){this.form.id?this.$refs["form"].validate((e=>{if(e){const e=this.form;b(e).then((e=>{200==e.code?(this.$message({type:"success",message:"修改成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,m.y)(e.code),this.dialogVisible=!1):(0,m.y)(e.code)})).catch((()=>{}))}else this.$message({type:"error",message:"验证失败，不提交"});return!1})):this.$refs["form"].validate((e=>(e?C(this.form).then((e=>{200==e.code?(this.$message({type:"success",message:"增加成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,m.y)(e.code),(0,w.gy)(w.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,m.y)(e.code),this.dialogVisible=!1):(0,m.y)(e.code)})).catch((()=>{})):this.$message({type:"error",message:"验证失败，不提交"}),!1)))},handUpdate(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,void 0!=this.$refs["form"]&&this.$refs["form"].resetFields()}}},V=r(3744);const W=(0,V.Z)(T,[["render",u],["__scopeId","data-v-50e07ec6"]]);var k=W}}]);
//# sourceMappingURL=977.28727740.js.map