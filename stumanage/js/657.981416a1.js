"use strict";(self["webpackChunkStudentManagement"]=self["webpackChunkStudentManagement"]||[]).push([[657],{9562:function(e,t,a){a.d(t,{QE:function(){return l},Rk:function(){return i},b0:function(){return d},bx:function(){return r},ed:function(){return n},hM:function(){return o}});var s=a(7068);function l(e,t){return(0,s.Z)({method:"get",url:"/admin/students",params:{pageNum:e,pageSize:t}})}function r(e){return(0,s.Z)({method:"post",url:"/admin/searchByStudentsId",params:{studentsId:e}})}function d(e){return(0,s.Z)({method:"post",url:"/admin/searchStudentsByName",params:{name:e}})}function o(e){return(0,s.Z)({method:"post",url:"/admin/deleteStudentsById",params:{id:e}})}function i(e){return(0,s.Z)({method:"post",url:"/admin/insertStudents",data:e})}function n(e){return(0,s.Z)({method:"post",url:"/admin/updateStudents",data:e})}},7657:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(6252);const l=e=>((0,s.dD)("data-v-6aefb474"),e=e(),(0,s.Cn)(),e),r={class:"crumbs"},d={class:"box"},o={class:"up"},i=l((()=>(0,s._)("h1",{class:"title"},"所有学生信息",-1))),n={class:"dialog-footer"},u={class:"pageInfo",style:{margin:"40px 0"}};function m(e,t,a,l,m,h){const p=(0,s.up)("el-breadcrumb-item"),c=(0,s.up)("el-breadcrumb"),g=(0,s.up)("el-input"),f=(0,s.up)("el-button"),y=(0,s.up)("el-table-column"),b=(0,s.up)("el-table"),w=(0,s.up)("el-form-item"),W=(0,s.up)("el-form"),k=(0,s.up)("el-dialog"),S=(0,s.up)("el-pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s.Wm)(c,{separator:"/"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{to:{path:"/admin/home"}},{default:(0,s.w5)((()=>[(0,s.Uk)("首页")])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)("学生信息")])),_:1}),(0,s.Wm)(p,{to:{path:"/admin/allstudent"}},{default:(0,s.w5)((()=>[(0,s.Uk)("所有学生")])),_:1})])),_:1})]),(0,s._)("div",d,[(0,s._)("div",o,[i,(0,s.Wm)(g,{modelValue:m.searchStudentId,"onUpdate:modelValue":t[0]||(t[0]=e=>m.searchStudentId=e),placeholder:"请输入学生编号",clearable:"",size:"large",style:{width:"500px",margin:"0 20px 10px 0"}},null,8,["modelValue"]),(0,s.Wm)(f,{type:"primary",onClick:h.handSearchByStudentId,style:{margin:"0 155px 0 0"}},{default:(0,s.w5)((()=>[(0,s.Uk)("搜索")])),_:1},8,["onClick"]),(0,s.Wm)(g,{modelValue:m.searchStudentName,"onUpdate:modelValue":t[1]||(t[1]=e=>m.searchStudentName=e),placeholder:"请输入学生姓名",clearable:"",size:"large",style:{width:"500px",margin:"0 20px 0 0"}},null,8,["modelValue"]),(0,s.Wm)(f,{type:"primary",onClick:h.handSearchByName},{default:(0,s.w5)((()=>[(0,s.Uk)("搜索")])),_:1},8,["onClick"]),(0,s.Wm)(f,{type:"primary",onClick:h.handReset},{default:(0,s.w5)((()=>[(0,s.Uk)("重置")])),_:1},8,["onClick"]),(0,s.Wm)(f,{type:"primary",onClick:h.handAdd},{default:(0,s.w5)((()=>[(0,s.Uk)("新增")])),_:1},8,["onClick"])]),(0,s.Wm)(b,{data:m.tableData,stripe:"",style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{prop:"id",type:"index",label:"ID",width:"120"}),(0,s.Wm)(y,{prop:"studentID",label:"学生编号",width:"auto",sortable:""}),(0,s.Wm)(y,{prop:"name",label:"学生名称",width:"auto"}),(0,s.Wm)(y,{prop:"gender",label:"性别",width:"auto"}),(0,s.Wm)(y,{prop:"age",label:"年龄",width:"auto"}),(0,s.Wm)(y,{prop:"department",label:"学生所在院系",width:"auto"}),(0,s.Wm)(y,{fixed:"right",label:"Operations",width:"120"},{default:(0,s.w5)((e=>[(0,s.Wm)(f,{link:"",type:"danger",size:"small",onClick:t=>h.handDelete(e.row.id)},{default:(0,s.w5)((()=>[(0,s.Uk)("删除")])),_:2},1032,["onClick"]),(0,s.Wm)(f,{link:"",type:"primary",size:"small",onClick:t=>h.handUpdate(e.row)},{default:(0,s.w5)((()=>[(0,s.Uk)("修改")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,s.Wm)(k,{title:"修改或新增",modelValue:m.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>m.dialogVisible=e),width:"30%"},{footer:(0,s.w5)((()=>[(0,s._)("span",n,[(0,s.Wm)(f,{onClick:t[7]||(t[7]=e=>m.dialogVisible=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("取消")])),_:1}),(0,s.Wm)(f,{type:"primary",onClick:h.save},{default:(0,s.w5)((()=>[(0,s.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,s.w5)((()=>[(0,s.Wm)(W,{model:m.form,"label-width":"120px",rules:m.rules,ref:"form"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{label:"学生编号",prop:"studentID"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.studentID,"onUpdate:modelValue":t[2]||(t[2]=e=>m.form.studentID=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"学生名称",prop:"name"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.name,"onUpdate:modelValue":t[3]||(t[3]=e=>m.form.name=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"性别",prop:"gender"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.gender,"onUpdate:modelValue":t[4]||(t[4]=e=>m.form.gender=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"年龄",prop:"age"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.age,"onUpdate:modelValue":t[5]||(t[5]=e=>m.form.age=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,s.Wm)(w,{label:"学生所在院系",prop:"department"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{modelValue:m.form.department,"onUpdate:modelValue":t[6]||(t[6]=e=>m.form.department=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),(0,s._)("div",u,[(0,s.Wm)(S,{onSizeChange:h.handlePageSizeChange,onCurrentChange:h.handleCurrentChange,"current-page":m.currentPage,"page-sizes":[5,10,15],"page-size":m.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:m.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])],64)}a(7658);var h=a(9562),p=a(7068),c=a(3695),g={name:"courses",data(){return{currentPage:1,pageSize:10,total:10,tableData:[],searchStudentId:"",searchStudentName:"",dialogVisible:!1,form:{},rules:{studentID:{required:!0,message:"请输入学生编号数",trigger:"blur",pattern:/^([0-9])+$/},name:{required:!0,message:"请输入学生名称",trigger:"blur"},gender:{required:!0,trigger:"blur",message:"请输入性别（男或女）",pattern:/^男$|^女$/},age:{required:!0,message:"请输入年龄",trigger:"blur",pattern:/^([1-9])?([0-9])+$/},department:{required:!0,message:"请输入学生所属院系",trigger:"blur"}}}},mounted(){this.selectAll()},methods:{selectAll(){const e=(0,c.LP)();if(null!==e){const e=this.currentPage,t=this.pageSize;(0,h.QE)(e,t).then((e=>{200===e.code?(this.tableData=e.data.list,this.total=e.data.total):401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,p.y)(e.code)}))}else(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请登录"})},handleCurrentChange(e){this.currentPage=e,this.selectAll()},handlePageSizeChange(e){this.pageSize=e,this.selectAll()},handSearchByStudentId(){const e=this.searchStudentId;if(!e)return!1;(0,h.bx)(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,p.y)(e.code)}))},handSearchByName(){const e=this.searchStudentName;if(!e)return!1;(0,h.b0)(e).then((e=>{200==e.code?this.tableData=e.data:401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,p.y)(e.code)}))},handReset(){this.selectAll(),this.searchStudentId="",this.searchStudentName=""},handDelete(e){(0,h.hM)(e).then((e=>{200==e.code?(this.selectAll(),this.$message({type:"success",message:"删除成功"})):401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):(0,p.y)(e.code)}))},handAdd(){this.dialogVisible=!0,this.form={},void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()},save(){this.form.id?this.$refs["form"].validate((e=>{if(e){const e=this.form;(0,h.ed)(e).then((e=>{200==e.code?(this.$message({type:"success",message:"修改成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,p.y)(e.code),this.dialogVisible=!1):(0,p.y)(e.code)})).catch((()=>{}))}else this.$message({type:"error",message:"验证失败，不提交"});return!1})):this.$refs["form"].validate((e=>(e?(0,h.Rk)(this.form).then((e=>{200==e.code?(this.$message({type:"success",message:"增加成功"}),this.selectAll(),this.dialogVisible=!1):300===e.code?this.$message({type:"error",message:e.msg}):401===e.code?((0,p.y)(e.code),(0,c.gy)(c.LP),this.$router.push("/"),this.$message({type:"error",message:"请重新登录"})):403===e.code?((0,p.y)(e.code),this.dialogVisible=!1):(0,p.y)(e.code)})).catch((()=>{})):this.$message({type:"error",message:"验证失败，不提交"}),!1)))},handUpdate(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,void 0!==this.$refs["form"]&&this.$refs["form"].resetFields()}}},f=a(3744);const y=(0,f.Z)(g,[["render",m],["__scopeId","data-v-6aefb474"]]);var b=y}}]);
//# sourceMappingURL=657.981416a1.js.map